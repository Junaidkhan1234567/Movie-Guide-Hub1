<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie Guide Hub</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
  <style>
    * {margin:0;padding:0;box-sizing:border-box;font-family:"Roboto",sans-serif;}

    body {
      background:#111;
      color:#fff;
      display:flex;
      flex-direction:column;
      min-height:100vh;
    }

    nav {
      background:#222;
      padding:15px;
      text-align:center;
    }
    nav h1 {font-size:26px;color:#4DEBF4;}

    main {
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding:20px;
    }

    .movie-card {
      background:#1e1e1e;
      border-radius:12px;
      padding:20px;
      width:90%;
      max-width:600px;
      box-shadow:0px 0px 12px rgba(0,0,0,0.5);
      margin-bottom:20px;
      position:relative;
      min-height:650px; /* ‚úÖ fixed height to prevent shifting */
    }

    .poster-container {
      position:relative;
      width:100%;
    }
    .poster-container img {
      width:100%;
      border-radius:12px;
      margin-bottom:15px;
    }
    .loading-overlay {
      position:absolute;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.7);
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:20px;
      font-weight:bold;
      color: white;
      border-radius:12px;
      display:none; /* default hidden */
    }

    .movie-card h2 {font-size:22px;margin-bottom:10px;color:#FFFFFF;}
    .movie-card p {margin:6px 0;line-height:1.5;}

    .movie-card b {
      color:#4DEBF4;   /* ‚úÖ ‡§∏‡§ø‡§∞‡•ç‡§´ labels cyan */
      font-weight:bold; /* ‚úÖ bold */
    }

    .genres span {
      display:inline-block;
      background:#333;
      padding:6px 12px;
      border-radius:20px;
      margin:4px;
      font-size:14px;
    }

    .controls {margin-top:10px;text-align:center;}
    .controls button {
      background:#4DEBF4;
      color:#000;
      border:none;
      padding:10px 20px;
      margin:5px;
      border-radius:6px;
      font-size:16px;
      cursor:pointer;
      transition:0.3s;
    }
    .controls button:hover {background:#3dc8d9;}

    .search-container {
      display:flex;
      justify-content:center;
      align-items:center;
      margin-top:15px;
      width:90%;
      max-width:600px;
      gap:8px;
    }
    .search-container input {
      flex:1;
      padding:10px;
      border-radius:6px;
      border:none;
      font-size:16px;
    }
    .search-container button {
      padding:10px 20px;
      background:#4DEBF4;
      border:none;
      border-radius:6px;
      cursor:pointer;
      font-size:16px;
      color:black;
    }
    .search-container button:hover {background:#3dc8d9;}

    footer {background:#111;text-align:center;padding:15px;font-size:14px;color:#aaa;}
  </style>
</head>
<body>
  <nav>
    <h1>üé¨ Movie Guide Hub</h1>
  </nav>

  <main>
    <div id="movieCard" class="movie-card">
      <div class="poster-container">
        <img id="poster" src="" alt="Movie Poster">
        <div id="loadingOverlay" class="loading-overlay">Loading...</div>
      </div>
      <h2 id="title"><b>Title:</b> </h2>
      <p id="type"><b>Type:</b> </p>
      <p id="rating"><b>Rating:</b> </p>
      <p id="release"><b>Release Date:</b> </p>
      <p id="runtime"><b>Runtime:</b> </p>
      <div id="genres" class="genres"><b>Genres:</b></div>
      <p id="plot"><b>Story Line:</b></p>
    </div>

    <div class="controls">
      <button id="prevBtn">‚¨ÖÔ∏è Back</button>
      <button id="nextBtn">Next ‚û°Ô∏è</button>
    </div>

    <div class="search-container">
      <input type="text" id="searchInput" placeholder="üîç Search...">
      <button id="searchBtn">Search</button>
    </div>
  </main>

  <footer>
    <p>Powered by Wolverine</p>
  </footer>

  <script>
    const apiKey = "fc1fef96";
    const poster = document.getElementById("poster");
    const titleEl = document.getElementById("title");
    const typeEl = document.getElementById("type");
    const ratingEl = document.getElementById("rating");
    const releaseEl = document.getElementById("release");
    const runtimeEl = document.getElementById("runtime");
    const genresEl = document.getElementById("genres");
    const plotEl = document.getElementById("plot");
    const loadingOverlay = document.getElementById("loadingOverlay");

    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");
    const searchBtn = document.getElementById("searchBtn");
    const searchInput = document.getElementById("searchInput");

    const keywords = [
      "Batman","Superman","Iron Man","Spider-Man","Thor","Avengers","Captain America",
      "Doctor Strange","Black Panther","Ant-Man","Deadpool","Logan","Wonder Woman",
      "Aquaman","The Dark Knight","Joker","Man of Steel","Justice League",
      "Guardians of the Galaxy","Eternals","Shang-Chi","The Incredible Hulk","X-Men",
      "Venom","Morbius","The Flash","Green Lantern","Fantastic Four","Blade",
      "Daredevil","Catwoman","Constantine","The Matrix","Inception","Interstellar",
      "Avatar","Titanic","Gladiator","Braveheart","The Godfather",
      "Dangal","PK","3 Idiots","Taare Zameen Par","Lagaan","Swades","Chak De India",
      "Jodhaa Akbar","Bajrangi Bhaijaan","Sultan","My Name Is Khan","Kal Ho Naa Ho",
      "Kabhi Khushi Kabhie Gham","Mohabbatein","Dilwale Dulhania Le Jayenge",
      "Dil To Pagal Hai","Kuch Kuch Hota Hai","Kabir Singh","Sanju",
      "Zindagi Na Milegi Dobara","Barfi","Rockstar","Yeh Jawaani Hai Deewani",
      "War","Pathaan","Jawan","Gadar","Gully Boy","Andhadhun","Article 15",
      "Baahubali: The Beginning","Baahubali 2: The Conclusion","RRR",
      "Pushpa: The Rise","Ala Vaikunthapurramuloo","Arjun Reddy","Geetha Govindam",
      "Srimanthudu","Maharshi","Bharat Ane Nenu","Pokiri","Magadheera","Eega",
      "Janatha Garage","Rangasthalam","Dhruva","Sye","Chatrapathi","Simhadri",
      "Indra","Narasimha Naidu","Okkadu","Athadu","Temper","Dookudu","Businessman",
      "Nenokkadine","Jai Lava Kusa","Khaidi No.150","Saaho"
    ];

    let history = [];
    let currentIndex = -1;

    async function translateToHindi(text) {
      try {
        const res = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=en|hi`);
        const data = await res.json();
        return data.responseData.translatedText || text;
      } catch {
        return text;
      }
    }

    async function showMovie(query, addToHistory=true) {
      loadingOverlay.style.display = "flex"; // ‚úÖ Show overlay

      const url = `https://www.omdbapi.com/?apikey=${apiKey}&t=${encodeURIComponent(query)}`;

      try {
        const res = await fetch(url);
        const data = await res.json();

        if (data.Response === "False") {
          alert("‚ùå MOVIE NOT FOUND TRY AGAIN");
          titleEl.innerHTML = "<b>Title:</b> Movie not found!";
          poster.src = "";
          typeEl.innerHTML = "<b>Type:</b> ";
          ratingEl.innerHTML = "<b>Rating:</b> ";
          releaseEl.innerHTML = "<b>Release Date:</b> ";
          runtimeEl.innerHTML = "<b>Runtime:</b> ";
          genresEl.innerHTML = "<b>Genres:</b>";
          plotEl.innerHTML = "<b>Story Line:</b>";
          loadingOverlay.style.display = "none";
          return;
        }

        const hindiPlot = await translateToHindi(data.Plot);
        const genreList = data.Genre.split(",").map(g => `<span>${g.trim()}</span>`).join("");

        poster.src = data.Poster;
        titleEl.innerHTML = `<b>Title:</b> ${data.Title}`;
        typeEl.innerHTML = `<b>Type:</b> ${data.Type}`;
        ratingEl.innerHTML = `<b>Rating:</b> ${data.imdbRating} / 10`;
        releaseEl.innerHTML = `<b>Release Date:</b> ${data.Released}`;
        runtimeEl.innerHTML = `<b>Runtime:</b> ${data.Runtime}`;
        genresEl.innerHTML = `<b>Genres:</b> ${genreList}`;
        plotEl.innerHTML = `<b>Story Line:</b> ${hindiPlot}`;

        if (addToHistory) {
          history = history.slice(0, currentIndex + 1);
          history.push(query);
          currentIndex++;
        }

      } catch {
        alert("‚ö†Ô∏è Error fetching movie!");
        titleEl.innerHTML = "<b>Title:</b> Error fetching movie.";
      } finally {
        loadingOverlay.style.display = "none"; // ‚úÖ Hide overlay after load
      }
    }

    function getRandomMovie() {
      const keyword = keywords[Math.floor(Math.random() * keywords.length)];
      showMovie(keyword, true);
    }

    nextBtn.addEventListener("click", getRandomMovie);

    prevBtn.addEventListener("click", () => {
      if (currentIndex > 0) {
        currentIndex--;
        showMovie(history[currentIndex], false);
      }
    });

    searchBtn.addEventListener("click", () => {
      const query = searchInput.value.trim();
      if (query) showMovie(query, true);
    });

    searchInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        const query = searchInput.value.trim();
        if (query) showMovie(query, true);
      }
    });

    getRandomMovie(); // First load
  </script>
</body>
</html>
